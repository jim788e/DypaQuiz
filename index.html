<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>DypaQuiz - Interactive Quiz System</title>
    
    <!-- Google Analytics 4 -->
    <script async src="https://www.googletagmanager.com/gtag/js?id=G-RWFSG8PFSK"></script>
    <script>
        window.dataLayer = window.dataLayer || [];
        function gtag(){dataLayer.push(arguments);}
        gtag('js', new Date());
        gtag('config', 'G-RWFSG8PFSK');
    </script>
    
    <link rel="stylesheet" href="styles.css">
</head>
<body>
    <div class="container">
        <header class="header">
            <div class="lang-switcher" aria-label="Language selector">
                <select id="lang-select" class="lang-select" title="Language">
                    <option value="en">EN</option>
                    <option value="el">EL</option>
                </select>
            </div>
            <h1 class="main-title">ΨΗΦΙΑΚΕΣ ΔΕΞΙΟΤΗΤΕΣ ΣΤΕΛΕΧΩΝ ΕΞΑΓΩΓΙΚΩΝ ΕΠΙΧΕΙΡΗΣΕΩΝ</h1>
            <h2 class="quiz-title" data-i18n="app.title">DypaQuiz</h2>
            <p class="quiz-subtitle" data-i18n="app.subtitle">Interactive Quiz System</p>
        </header>

        <div id="loading" class="loading">
            <div class="spinner"></div>
            <p data-i18n="loading">Loading quiz...</p>
        </div>

        <div id="error" class="error" style="display: none;">
            <h3 data-i18n="error.title">Error Loading Quiz</h3>
            <p data-i18n="error.detail">There was an error loading the quiz data. Please make sure quiz.json is in the project directory.</p>
        </div>

        <div id="start-screen" class="start-screen">
            <div class="start-card">
                <div id="section-container" class="section-container" aria-label="Section selector">
                    <label for="section-select" id="section-label" data-i18n="sections.label">Chapter:</label>
                    <select id="section-select" class="section-select"></select>
                </div>
                <div id="random-questions-container" class="random-questions-container" style="display: none;">
                    <label for="random-questions-input" id="random-questions-label" data-i18n="randomMode.questionsLabel">Number of questions:</label>
                    <input type="number" id="random-questions-input" class="random-questions-input" min="1" max="100" value="50" placeholder="50">
                    <div id="random-questions-error" class="random-questions-error" style="display: none;"></div>
                </div>
                <div class="feedback-container">
                    <label for="feedback-select" id="feedback-label" data-i18n="feedback.label">Feedback:</label>
                    <select id="feedback-select" class="feedback-select">
                        <option value="end" data-i18n="feedback.end">At the end</option>
                        <option value="immediate" data-i18n="feedback.immediate">After each question</option>
                    </select>
                </div>
                <div class="randomize-container">
                    <label for="randomize-checkbox" class="randomize-label">
                        <input type="checkbox" id="randomize-checkbox" class="randomize-checkbox">
                        <span class="checkmark"></span>
                        <span class="randomize-text" data-i18n="randomize.label">Randomize questions</span>
                    </label>
                </div>
                <div class="start-actions">
                    <button id="start-btn" class="btn" data-i18n="start">Start</button>
                </div>
            </div>
        </div>

        <div id="quiz-container" style="display: none;">
            <div id="section-summary" class="section-summary" style="display:none;"></div>
            <div class="progress-container">
                <div class="progress-bar">
                    <div class="progress-fill" id="progress-fill"></div>
                </div>
                <div class="progress-text" id="progress-text">Question 1 of 10</div>
            </div>

            <div id="questions-container"></div>

            <div class="navigation">
                <button id="prev-btn" class="btn btn-secondary" disabled data-i18n="nav.previous">Previous</button>
                <button id="next-btn" class="btn" data-i18n="nav.next">Next</button>
                <button id="finish-btn" class="btn btn-success" style="display: none;" data-i18n="nav.finish">Finish Quiz</button>
            </div>
        </div>

        <div id="results-container" class="results-container">
            <div class="score-display">
                <div class="score-percentage" id="score-percentage">0%</div>
                <div class="score-details" id="score-details">0 out of 0 correct</div>
            </div>
            <div id="wrong-answers" class="wrong-answers"></div>
            <div class="results-actions">
                <button id="retake-btn" class="btn btn-success" data-i18n="nav.retake">Retake Quiz</button>
                <button id="home-btn" class="btn btn-secondary">Return to start</button>
            </div>
        </div>
    </div>

    <script type="module" src="app.js"></script>
</body>
</html>
